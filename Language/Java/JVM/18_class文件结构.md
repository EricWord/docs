# 18. class文件结构

## 18.1 概述

### 18.1.1 字节码文件的跨平台性

![image-20210513180805982](images/image-20210513180805982.png)

![image-20210513181430808](images/image-20210513181430808.png)

![image-20210513181518217](images/image-20210513181518217.png)

![image-20210513181525428](images/image-20210513181525428.png)

### 18.1.2 Java的前端编译器

![image-20210513181830979](images/image-20210513181830979.png)

![image-20210513181930976](images/image-20210513181930976.png)





### 18.1.3 透过字节码指令看代码细节

![image-20210513180831928](images/image-20210513180831928.png)

![image-20210513182542872](images/image-20210513182542872.png)

![image-20210513182604597](images/image-20210513182604597.png)

![image-20210513182622675](images/image-20210513182622675.png)

## 18.2 虚拟机的基石:class文件

![image-20210513200057571](images/image-20210513200057571.png)

![image-20210513200534690](images/image-20210513200534690.png)

![image-20210513200600498](images/image-20210513200600498.png)

![image-20210513201337830](images/image-20210513201337830.png)

![image-20210513201926582](images/image-20210513201926582.png)

![image-20210513202025027](images/image-20210513202025027.png)

![image-20210513202300704](images/image-20210513202300704.png)

![image-20210513202425694](images/image-20210513202425694.png)

![image-20210513202721706](images/image-20210513202721706.png)

![image-20210513202748612](images/image-20210513202748612.png)

### 18.2.1 魔数

![image-20210513203739387](images/image-20210513203739387.png)

### 18.2.2 class文件版本号

![image-20210513204212264](images/image-20210513204212264.png)

![image-20210513204420451](images/image-20210513204420451.png)

### 18.2.3 常量池:存放所有常量

![image-20210513204917868](images/image-20210513204917868.png)

![image-20210513205031194](images/image-20210513205031194.png)



![image-20210513205604029](images/image-20210513205604029.png)



![image-20210513205051895](images/image-20210513205051895.png)

![image-20210513205330313](images/image-20210513205330313.png)



![image-20210513205753670](images/image-20210513205753670.png)

![image-20210513210027460](images/image-20210513210027460.png)

![image-20210513210132350](images/image-20210513210132350.png)

![image-20210513210256959](images/image-20210513210256959.png)

![image-20210513210604593](images/image-20210513210604593.png)

![image-20210513210717590](images/image-20210513210717590.png)

![image-20210513210807463](images/image-20210513210807463.png)



![image-20210513210753780](images/image-20210513210753780.png)

![image-20210514161053362](images/image-20210514161053362.png)

![image-20210514161143335](images/image-20210514161143335.png)

### 18.2.4 访问标识

![image-20210514161310004](images/image-20210514161310004.png)

![image-20210514161421206](images/image-20210514161421206.png)

![image-20210514161724854](images/image-20210514161724854.png)

### 18.2.5 类索引、父类索引、接口索引集合

![image-20210514161917307](images/image-20210514161917307.png)

![image-20210514162208642](images/image-20210514162208642.png)

### 18.2.6 字段表集合

![image-20210514162850439](images/image-20210514162850439.png)

![image-20210514163229483](images/image-20210514163229483.png)

![image-20210514163352507](images/image-20210514163352507.png)

![image-20210514163528895](images/image-20210514163528895.png)

![image-20210514163627381](images/image-20210514163627381.png)

![image-20210514163735119](images/image-20210514163735119.png)

![image-20210514164026871](images/image-20210514164026871.png)

### 18.2.7 方法表集合

![image-20210514171927140](images/image-20210514171927140.png)

![image-20210514172239166](images/image-20210514172239166.png)

![image-20210514172344023](images/image-20210514172344023.png)

### 18.2.8 属性表集合

![image-20210514173113397](images/image-20210514173113397.png)

![image-20210514173556196](images/image-20210514173556196.png)



![image-20210514173539441](images/image-20210514173539441.png)

![image-20210514180254750](images/image-20210514180254750.png)

![image-20210514180356244](images/image-20210514180356244.png)

![image-20210514180409224](images/image-20210514180409224.png)

![image-20210514180603406](images/image-20210514180603406.png)

![image-20210514180613518](images/image-20210514180613518.png)

**③code属性**

![image-20210514180631202](images/image-20210514180631202.png)

![image-20210514181408931](images/image-20210514181408931.png)

![image-20210514181423896](images/image-20210514181423896.png)

![image-20210514182114933](images/image-20210514182114933.png)

![image-20210514182124933](images/image-20210514182124933.png)

![image-20210514182135940](images/image-20210514182135940.png)

![image-20210514203333825](images/image-20210514203333825.png)

### 18.2.9 小结

![image-20210514203644738](images/image-20210514203644738.png)

## 18.3 使用javap指令解析class文件

### 18.3.1 解析字节码的作用

![image-20210514204325422](images/image-20210514204325422.png)

### 18.3.2 javac -g操作

![image-20210514204342028](images/image-20210514204342028.png)

### 18.3.3 javap的用法

![image-20210514205130570](images/image-20210514205130570.png)

![image-20210514205113140](images/image-20210514205113140.png)

![image-20210514210247168](images/image-20210514210247168.png)

### 18.3.4 使用举例



### 18.3.5 总结

![image-20210514211718174](images/image-20210514211718174.png)

