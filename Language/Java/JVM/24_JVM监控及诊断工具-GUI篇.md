# 24.JVM监控及诊断工具-GUI篇

## 24.1 工具概述

![image-20210516165500962](images/image-20210516165500962.png)

![image-20210516165626740](images/image-20210516165626740.png)

![image-20210516171842013](images/image-20210516171842013.png)

![image-20210516171957439](images/image-20210516171957439.png)

## 24.2 jConsole

### 24.2.1 基本概述

![image-20210516173012680](images/image-20210516173012680.png)

### 24.2.2 启动

![image-20210516173201253](images/image-20210516173201253.png)

### 24.2.3 三种连接方式

![image-20210516173212642](images/image-20210516173212642.png)

### 24.2.4 主要作用

## 24.3 Visual VM

### 24.3.1 基本概述

![image-20210516173832518](images/image-20210516173832518.png)

### 24.3.2 插件的安装

![image-20210516174344842](images/image-20210516174344842.png)

![image-20210516174630014](images/image-20210516174630014.png)

### 24.3.3 连接方式

![image-20210516174644100](images/image-20210516174644100.png)

### 24.3.4 主要功能

![image-20210516174811349](images/image-20210516174811349.png)

## 24.4 eclipse MAT

### 24.4.1 基本概述

![image-20210516215325535](images/image-20210516215325535.png)

![image-20210516215516225](images/image-20210516215516225.png)



![image-20210516215502432](images/image-20210516215502432.png)

![image-20210516215530076](images/image-20210516215530076.png)



### 24.4.2 获取堆dump文件

![image-20210516215234605](images/image-20210516215234605.png)

![image-20210516215605392](images/image-20210516215605392.png)

![image-20210516215821041](images/image-20210516215821041.png)

![image-20210516220046967](images/image-20210516220046967.png)



### 24.4.3 分析堆dump文件

![image-20210516215701336](images/image-20210516215701336.png)



![image-20210516222644210](images/image-20210516222644210.png)

![image-20210517094959551](images/image-20210517094959551.png)

![image-20210517095226590](images/image-20210517095226590.png)

![image-20210517095358595](images/image-20210517095358595.png)

![image-20210517095426917](images/image-20210517095426917.png)

![image-20210517095455864](images/image-20210517095455864.png)



![image-20210517100917220](images/image-20210517100917220.png)

![image-20210517101031639](images/image-20210517101031639.png)

![image-20210517101046274](images/image-20210517101046274.png)

![image-20210517102002156](images/image-20210517102002156.png)

### 24.4.4 案例:Tomcat堆溢出分析

![image-20210517102244332](images/image-20210517102244332.png)



![image-20210517102218597](images/image-20210517102218597.png)

![image-20210517102429108](images/image-20210517102429108.png)

![image-20210517102450938](images/image-20210517102450938.png)

![image-20210517102518859](images/image-20210517102518859.png)

![image-20210517102600034](images/image-20210517102600034.png)

![image-20210517102638796](images/image-20210517102638796.png)

![image-20210517102706202](images/image-20210517102706202.png)

![image-20210517102733941](images/image-20210517102733941.png)





### 24.4.5 支持使用OQL语言查询对象信息



![image-20210516215242763](images/image-20210516215242763.png)

![image-20210517110218881](images/image-20210517110218881.png)

![image-20210517110451741](images/image-20210517110451741.png)

![image-20210517110549404](images/image-20210517110549404.png)

![image-20210517110834004](images/image-20210517110834004.png)



![image-20210517110937309](images/image-20210517110937309.png)

## 24.5 JProfiler

### 24.5.1 基本概述

![image-20210517111145557](images/image-20210517111145557.png)

![image-20210517111216266](images/image-20210517111216266.png)

![image-20210517111356590](images/image-20210517111356590.png)

![image-20210517111834518](images/image-20210517111834518.png)

### 24.5.2 安装与配置

![image-20210517111153209](images/image-20210517111153209.png)

![image-20210517111952001](images/image-20210517111952001.png)

![image-20210517112118453](images/image-20210517112118453.png)

![image-20210517112134139](images/image-20210517112134139.png)



### 24.5.3 具体使用

![image-20210517111203541](images/image-20210517111203541.png)

![image-20210517112705382](images/image-20210517112705382.png)



![image-20210517113254025](images/image-20210517113254025.png)

![image-20210517113528133](images/image-20210517113528133.png)

![image-20210517114527276](images/image-20210517114527276.png)

![image-20210517122929633](images/image-20210517122929633.png)

![image-20210517123028927](images/image-20210517123028927.png)



![image-20210517123140939](images/image-20210517123140939.png)





### 24.5.4 案例分析

![image-20210517124215024](images/image-20210517124215024.png)

## 24.6 Arthas

### 24.6.1 基本概述

![image-20210517124331276](images/image-20210517124331276.png)

![image-20210517124413679](images/image-20210517124413679.png)

![image-20210517124425810](images/image-20210517124425810.png)

![image-20210517124550519](images/image-20210517124550519.png)

![image-20210517124706436](images/image-20210517124706436.png)

![image-20210517124734825](images/image-20210517124734825.png)

### 24.6.2 安装与使用

![image-20210517125756349](images/image-20210517125756349.png)



![image-20210517125023247](images/image-20210517125023247.png)

![image-20210517125130166](images/image-20210517125130166.png)

![image-20210517125233236](images/image-20210517125233236.png)

![image-20210517125303099](images/image-20210517125303099.png)

### 24.6.3 相关诊断指令

![image-20210517125822170](images/image-20210517125822170.png)

![image-20210517125843126](images/image-20210517125843126.png)

![image-20210517142838702](images/image-20210517142838702.png)

![image-20210517142912020](images/image-20210517142912020.png)

![image-20210517150851486](images/image-20210517150851486.png)

![image-20210517151000291](images/image-20210517151000291.png)

![image-20210517151120839](images/image-20210517151120839.png)

![image-20210517151723969](images/image-20210517151723969.png)

![image-20210517151739516](images/image-20210517151739516.png)

![image-20210517151933798](images/image-20210517151933798.png)

![image-20210517151952376](images/image-20210517151952376.png)

![image-20210517152211968](images/image-20210517152211968.png)

![image-20210517152325412](images/image-20210517152325412.png)

![image-20210517164944752](images/image-20210517164944752.png)

![image-20210517165058214](images/image-20210517165058214.png)

## 24.7 Java Mission Control

### 24.7.1 历史

![image-20210517170052904](images/image-20210517170052904.png)

### 24.7.2 启动

![image-20210517170428859](images/image-20210517170428859.png)

### 24.7.3 概述

![image-20210517170519417](images/image-20210517170519417.png)

### 24.7.4 功能:实时监控JVM运行时的状态

![image-20210517170614257](images/image-20210517170614257.png)

### 24.7.5 Java Flight Recorder

![image-20210517170918869](images/image-20210517170918869.png)

![image-20210517172647563](images/image-20210517172647563.png)

![image-20210517172700163](images/image-20210517172700163.png)

![image-20210517172828504](images/image-20210517172828504.png)

![image-20210517200625124](images/image-20210517200625124.png)

![image-20210517200724621](images/image-20210517200724621.png)

![image-20210517200816471](images/image-20210517200816471.png)

![image-20210517200835987](images/image-20210517200835987.png)

## 24.8 Btrace

![image-20210517201651172](images/image-20210517201651172.png)



## 24.9 Flame Graphs(火焰图)

![image-20210517201226631](images/image-20210517201226631.png)



![image-20210517201213371](images/image-20210517201213371.png)







## 24.10 其他工具

![image-20210517201101362](images/image-20210517201101362.png)

![image-20210517201425501](images/image-20210517201425501.png)

![image-20210517201616042](images/image-20210517201616042.png)



## 24.11 补充1:内存泄漏



### 24.11.1 内存泄漏的理解与分类

![image-20210517103405675](images/image-20210517103405675.png)

![image-20210517103553046](images/image-20210517103553046.png)

![image-20210517103625781](images/image-20210517103625781.png)

内存泄漏与内存溢出的关系：

![image-20210517103213639](images/image-20210517103213639.png)

![image-20210517103835792](images/image-20210517103835792.png)

### 24.11.2 Java中内存泄漏的8种情况

![image-20210517104025969](images/image-20210517104025969.png)

![image-20210517104125478](images/image-20210517104125478.png)

![image-20210517104217597](images/image-20210517104217597.png)

![image-20210517104250413](images/image-20210517104250413.png)

![image-20210517104322462](images/image-20210517104322462.png)

![image-20210517104405382](images/image-20210517104405382.png)

![image-20210517104531526](images/image-20210517104531526.png)

![image-20210517105033995](images/image-20210517105033995.png)

![image-20210517105305899](images/image-20210517105305899.png)

![image-20210517105318154](images/image-20210517105318154.png)

### 24.11.3 内存泄漏案例分析

![image-20210517105425716](images/image-20210517105425716.png)

![image-20210517105735805](images/image-20210517105735805.png)

![image-20210517110024940](images/image-20210517110024940.png)

![image-20210517110110402](images/image-20210517110110402.png)

![image-20210517110121199](images/image-20210517110121199.png)

