# 23. JVM监控及诊断工具-命令行篇

## 23.1 概述

![image-20210516145556012](images/image-20210516145556012.png)

![image-20210516145811425](images/image-20210516145811425.png)

![image-20210516150043255](images/image-20210516150043255.png)

## 23.2 jps:查看正在运行的Java进程

### 23.2.1 基本情况

![image-20210516150148416](images/image-20210516150148416.png)

### 23.2.2 基本语法

![image-20210516150419751](images/image-20210516150419751.png)

![image-20210516150443477](images/image-20210516150443477.png)

![image-20210516151016928](images/image-20210516151016928.png)

## 23.3 jstat:查看JVM统计信息

### 23.3.1 基本情况

![image-20210516151121598](images/image-20210516151121598.png)

### 23.3.2 基本语法

![image-20210516151309404](images/image-20210516151309404.png)

![image-20210516151348329](images/image-20210516151348329.png)

![image-20210516151912408](images/image-20210516151912408.png)

![image-20210516151927339](images/image-20210516151927339.png)



![image-20210516151532056](images/image-20210516151532056.png)



![image-20210516152142206](images/image-20210516152142206.png)

**-t参数经验**

![image-20210516152716540](images/image-20210516152716540.png)

![image-20210516152920842](images/image-20210516152920842.png)

## 23.4 jinfo:实时查看和修改JVM配置参数

### 23.4.1 基本情况

![image-20210516153751992](images/image-20210516153751992.png)

![image-20210516153927168](images/image-20210516153927168.png)

### 23.4.2 基本语法

![image-20210516154006018](images/image-20210516154006018.png)

![image-20210516154100334](images/image-20210516154100334.png)

![image-20210516154333547](images/image-20210516154333547.png)

![image-20210516154408004](images/image-20210516154408004.png)

![image-20210516154630950](images/image-20210516154630950.png)

## 23.5 jmap:导出内存映像文件&内存使用情况

### 23.5.1 基本情况

![image-20210516155055563](images/image-20210516155055563.png)

### 23.5.2 基本语法

![image-20210516155326182](images/image-20210516155326182.png)



![image-20210516155311460](images/image-20210516155311460.png)

### 23.5.3 使用1:导出内存映像文件

![image-20210516155629372](images/image-20210516155629372.png)

![image-20210516155710850](images/image-20210516155710850.png)

![image-20210516155743510](images/image-20210516155743510.png)

![image-20210516160300401](images/image-20210516160300401.png)

### 23.5.4 使用2:显示堆内存相关信息



![image-20210516161048161](images/image-20210516161048161.png)



### 23.5.5 使用3:其他作用

![image-20210516155001789](images/image-20210516155001789.png)

### 23.5.6 小结

![image-20210516161033850](images/image-20210516161033850.png)

## 23.6 jhat:JDK自带堆分析工具

### 23.6.1 基本情况

![image-20210516162337425](images/image-20210516162337425.png)

### 23.6.2 基本语法

![image-20210516162843411](images/image-20210516162843411.png)

## 23.7 jstack:打印JVM中线程快照

### 23.7.1 基本情况

![image-20210516163043118](images/image-20210516163043118.png)

### 23.7.2 基本语法

![image-20210516163210400](images/image-20210516163210400.png)

![image-20210516163227419](images/image-20210516163227419.png)

![image-20210516163713873](images/image-20210516163713873.png)



## 23.8 jcmd:多功能命令行

### 23.8.1 基本情况

![image-20210516164123667](images/image-20210516164123667.png)

### 23.8.2 基本语法

![image-20210516164320895](images/image-20210516164320895.png)

![image-20210516164421682](images/image-20210516164421682.png)

![image-20210516164450612](images/image-20210516164450612.png)

## 23.9 jstatd:远程主机信息收集

![image-20210516164922858](images/image-20210516164922858.png)



