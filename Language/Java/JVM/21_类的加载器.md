# 21. 类的加载器

## 21.1 概述

![image-20210516102637274](images/image-20210516102637274.png)

![image-20210516102736704](images/image-20210516102736704.png)

![image-20210516103617796](images/image-20210516103617796.png)

### 21.1.1 大厂面试题

![image-20210516103753100](images/image-20210516103753100.png)

![image-20210516103806123](images/image-20210516103806123.png)

![image-20210516103815475](images/image-20210516103815475.png)

### 21.1.2 类加载的分类

![image-20210516103835566](images/image-20210516103835566.png)

### 21.1.3 类加载器的必要性

![image-20210516104130653](images/image-20210516104130653.png)

### 21.1.4 命名空间

![image-20210516104237511](images/image-20210516104237511.png)

### 21.1.5 类加载机制的基本特征

![image-20210516105036815](images/image-20210516105036815.png)

## 21.2 类的加载器分类

![image-20210516105224575](images/image-20210516105224575.png)

![image-20210516105239269](images/image-20210516105239269.png)

### 21.2.1 引导类加载器

![image-20210516105710315](images/image-20210516105710315.png)

![image-20210516105949318](images/image-20210516105949318.png)

![image-20210516110135217](images/image-20210516110135217.png)

### 21.2.2 扩展类加载器

![image-20210516110251113](images/image-20210516110251113.png)

### 21.2.3 系统类加载器

![image-20210516111022115](images/image-20210516111022115.png)

### 21.2.4 用户自定义类加载器

![image-20210516111329123](images/image-20210516111329123.png)

## 21.3 测试不同的类加载器

![image-20210516111459318](images/image-20210516111459318.png)

![image-20210516112122573](images/image-20210516112122573.png)

## 21.4 ClassLoader源码解析

![image-20210516112151900](images/image-20210516112151900.png)

### 21.4.1 ClassLoader的主要方法

![image-20210516112913958](images/image-20210516112913958.png)

![image-20210516114030984](images/image-20210516114030984.png)

![image-20210516114129646](images/image-20210516114129646.png)

### 21.4.2 SecureClassLoader与URLClassLoader

![image-20210516114636636](images/image-20210516114636636.png)

![image-20210516114751060](images/image-20210516114751060.png)

### 21.4.3 Class.forName()与ClassLoader.loadClass()

![image-20210516114855655](images/image-20210516114855655.png)

## 21.5 双亲委派模型

### 21.5.1 定义与本质

![image-20210516115055975](images/image-20210516115055975.png)



![image-20210516115043566](images/image-20210516115043566.png)

![image-20210516115157905](images/image-20210516115157905.png)

### 21.5.2 优势与劣势

![image-20210516115334091](images/image-20210516115334091.png)

![image-20210516120045713](images/image-20210516120045713.png)

![image-20210516120059084](images/image-20210516120059084.png)

![image-20210516120255529](images/image-20210516120255529.png)

### 21.5.3 破坏双亲委派机制

![image-20210516120638728](images/image-20210516120638728.png)

![image-20210516120843023](images/image-20210516120843023.png)

![image-20210516121206717](images/image-20210516121206717.png)

![image-20210516121222077](images/image-20210516121222077.png)

![image-20210516121453233](images/image-20210516121453233.png)

![image-20210516121528469](images/image-20210516121528469.png)

### 21.5.4 热替换的实现

![image-20210516121635063](images/image-20210516121635063.png)

![image-20210516121745648](images/image-20210516121745648.png)

## 21.6 沙箱安全机制

![image-20210516122059746](images/image-20210516122059746.png)

### 21.6.1 JDK1.0时期

![image-20210516122227238](images/image-20210516122227238.png)

### 21.6.2 JDK1.1时期

![image-20210516122300126](images/image-20210516122300126.png)

### 21.6.3 JDK1.2时期

![image-20210516122330980](images/image-20210516122330980.png)

![image-20210516122341875](images/image-20210516122341875.png)

### 21.6.4 JDK1.6时期

![image-20210516122427595](images/image-20210516122427595.png)

## 21.7 自定义类的加载器

![image-20210516122532971](images/image-20210516122532971.png)

![image-20210516122822678](images/image-20210516122822678.png)

**实现方式**

![image-20210516122940177](images/image-20210516122940177.png)

![image-20210516123936301](images/image-20210516123936301.png)

## 21.8 Java9新特性

![image-20210516124804213](images/image-20210516124804213.png)

![image-20210516125349970](images/image-20210516125349970.png)

![image-20210516125401809](images/image-20210516125401809.png)

![image-20210516125447642](images/image-20210516125447642.png)

![image-20210516125632404](images/image-20210516125632404.png)

![image-20210516125655947](images/image-20210516125655947.png)

![image-20210516125755469](images/image-20210516125755469.png)

![image-20210516125738747](images/image-20210516125738747.png)

![image-20210516125822722](images/image-20210516125822722.png)









